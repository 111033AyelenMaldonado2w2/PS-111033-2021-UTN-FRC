
@{
    ViewBag.Title = "UsuAlta";
    if (Session["userName"] == null)
    {
        Response.Redirect("/Home/Index");
    }
    else
    {
        if (Session["rol"].Equals("Empleado"))
        {
            Response.Redirect("/Home/Index");
        }
    }
}

<link rel="stylesheet" href="~/Content/posicionGral.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

@using (Html.BeginForm("nuevoUsuario", "Usuario", FormMethod.Post, new { id = "frm-alta", enctype = "multipart/form-data" }))
{
    <div class="contenedor">
        <div class="row">
            <div class="col-lg-1"></div>
            <div class="col-lg-11">
                <h4>Registro de Usuario</h4><hr />
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h5>Datos del usuario</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-lg-1"></div>
                                    <div class="col-lg-5">
                                        <div class="row">
                                            <div class="col-lg-2"></div>
                                            <div class="col-lg-10">
                                                <div class="form-group">
                                                    <label>Nombre *</label>
                                                    <input class="form-control" name="uNombre" onkeyup="validarSintaxis()" id="uNombre" />
                                                </div>
                                                <div class="form-group has-validation">
                                                    <label>Usuario *</label>
                                                    <input class="form-control" id="userName" onkeyup="verificarExistencia();" name="uUsuario" />
                                                    <div class="invalid-feedback" id="existeUs" style="display:none">
                                                        El usuario seleccionado ya existe.
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label>Documento *</label>
                                                    <input class="form-control input-number" name="uDocumento" id="uDocumento" type="number" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Email *</label>
                                                    <input class="form-control" name="uEmail" id="uEmail" type="email" />
                                                </div>
                                                <div class="form-group">
                                                    <label>Rol *</label>
                                                    <select class="form-control" id="rol" name="uIdRol"></select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group">
                                            <label>Apellido *</label>
                                            <input class="form-control" name="uApellido" onkeyup="validarSintaxis()" id="uApellido" />
                                        </div>
                                        <div class="form-group">
                                            <label>Contraseña</label>
                                            <input class="form-control contra" type="password" disabled />
                                            <input class="form-control contra" name="uClave" hidden />
                                        </div>
                                        <div class="form-group">
                                            <label>CUIT</label>
                                            <input class="form-control input-number" name="uCUIT" id="uCUIT" type="number"/>
                                        </div>
                                        <div class="form-group">
                                            <label>Teléfono *</label>
                                            <input class="form-control input-number" name="uTel" id="uTel"/>
                                        </div>
                                        <div class="form-group">
                                            <label>Funcion *</label>
                                            <select class="form-control" name="uIdFuncion" id="funcion"></select>
                                        </div>
                                    </div>
                                </div><br />
                                <div class="row">
                                    <div class="col-lg-11" style="text-align:center" id="btnConfirm">
                                        <button type="button" class="btn btn-warning btnNaranja" id="enviarForm" style="margin-right:10px;">Registrar Usuario</button>
                                        <button type="button" class="btn btn-dark btnNegro" id="btnCerrar">Cancelar</button>
                                        <button class="btn btn-warning btnNaranja" style="display:none;" id="msjCarga" type="button" disabled><span class="spinner-border spinner-border-sm"></span>Cargando...</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br /><br />
                    </div>
                </div>
            </div>
        </div>
    </div>
}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script src="~/Scripts/Usuario/UsuAlta.js"></script>